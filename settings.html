



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Shotgun Toolkit Qt Settings Wrapper &mdash; tk-framework-shotgunutils v5.2.2 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="tk-framework-shotgunutils v5.2.2 documentation" href="index.html"/>
        <link rel="next" title="Shotgun Globals Access" href="shotgun_globals.html"/>
        <link rel="prev" title="Background Task Processing" href="task_manager.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          
    <a href='http://developer.shotgunsoftware.com'>
    
        <img style='width: 191px;
                height: 60px; 
                margin: 2px;
                border-radius: 0px; 
                padding: 0px;' 
            src='_static/logo@2x.png'/>
    
    </a>
    

          
            <a href="index.html" class="icon icon-home"> tk-framework-shotgunutils
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="shotgun_model.html">Shotgun Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="shotgun_hierarchy_model.html">Shotgun Hierarchy Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="shotgun_data.html">Shotgun Asynchronous Data Retriever</a></li>
<li class="toctree-l1"><a class="reference internal" href="task_manager.html">Background Task Processing</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Shotgun Toolkit Qt Settings Wrapper</a></li>
<li class="toctree-l1"><a class="reference internal" href="shotgun_globals.html">Shotgun Globals Access</a></li>
</ul>

            
          
       
    <div style='margin-top: 50px;
                margin-left: 10px;
                margin-right: 10px;
                padding: 10px; 
                color: #b3b3b3; 
                font-size: 70%;
                border-radius: 3px;
                background-color: #444;
                line-height: 18px;
                '>    
    <style>
        a.custom_post_menu { display: inline; 
                             padding: 0px; 
                             text-decoration: underline; }
    </style>

    <b>tk-framework-shotgunutils</b> v5.2.2.<br>
    
        This documentation is part of the Shotgun Pipeline Toolkit.
    
    For more information, please visit
    <a class=custom_post_menu href='https://support.shotgunsoftware.com/home'>Shotgun Support</a>.
    The code associated with this documentation can be found 
    <a class=custom_post_menu href='https://github.com/shotgunsoftware/tk-framework-shotgunutils'>here</a>.

    </div>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">tk-framework-shotgunutils</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Shotgun Toolkit Qt Settings Wrapper</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="shotgun-toolkit-qt-settings-wrapper">
<h1>Shotgun Toolkit Qt Settings Wrapper<a class="headerlink" href="#shotgun-toolkit-qt-settings-wrapper" title="Permalink to this headline">Â¶</a></h1>
<p>The settings module makes it easy to store things like user preferences, app related state etc.
For example, if you want your app to remember the state of a checkbox across sessions, you can
use the settings module to store this value. Adding persisting settings to an app can quickly
drastically improve the user experience at a very low cost.</p>
<p>This settings module wraps around <cite>QSettings</cite>. This means that the settings data will be stored
on your local machine and that they are for the current user only. If you need to share a preference
or setting between multiple users, this module is most likely <em>not</em> the right one to use.</p>
<p>Settings can have different scope. This indicates how the setting should be shared between
instances of apps, shotgun setups etc. Please note that the setting is still per-user and per-machine,
so if it is scoped to be &#8220;global&#8221;, it means that it will be shared across all different apps, engines,
configurations, projects and shotgun sites for the current user on their local machine.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">SCOPE_GLOBAL</span></code> - No restriction.</li>
<li><code class="docutils literal"><span class="pre">SCOPE_SITE</span></code> - Settings are per Shotgun site.</li>
<li><code class="docutils literal"><span class="pre">SCOPE_PROJECT</span></code> - Settings are per Shotgun project.</li>
<li><code class="docutils literal"><span class="pre">SCOPE_CONFIG</span></code> - Settings are per Shotgun Pipeline Configuration.</li>
<li><code class="docutils literal"><span class="pre">SCOPE_INSTANCE</span></code> - Settings are per app or engine instance. For example, if your app
contains a set of filters, and you want these to be remembered across sessions, you would
typically use this scope. Each instance of the app will remember its own filters, so when you
run it in the asset environment, one set of filters are remembered, when you run it in the shot
environment, another set of filters etc.</li>
<li><code class="docutils literal"><span class="pre">SCOPE_ENGINE</span></code> - One setting per engine. This makes it possible to store one set of preferences
for apps running in Photoshop, Maya, Nuke etc. This makes it possible to for example store a setting
that remembers if a &#8220;welcome screen&#8221; for your app has been displayed - so that it is only displayed
once in Maya, once in Nuke etc.</li>
</ul>
<p>The following code illustrates typical use of the settings module:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># example of how the settings module can be used within your app code</span>
<span class="c1"># import the module - note that this is using the special</span>
<span class="c1"># import_framework code so it won&#39;t work outside an app</span>
<span class="n">settings</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">import_framework</span><span class="p">(</span><span class="s2">&quot;tk-framework-shotgunutils&quot;</span><span class="p">,</span> <span class="s2">&quot;settings&quot;</span><span class="p">)</span>

<span class="c1"># typically in the constructor of your main dialog or in the app, create a settings object:</span>
<span class="bp">self</span><span class="o">.</span><span class="n">_settings_manager</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">UserSettings</span><span class="p">(</span><span class="n">sgtk</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">current_bundle</span><span class="p">())</span>

<span class="c1"># the settings system will handle serialization and management of data types</span>
<span class="c1"># so you can pass simple types such as strings, ints and lists and dicts of these.</span>
<span class="c1">#</span>
<span class="c1"># retrieve a settings value and default to a value if no settings was found</span>
<span class="n">scale_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_settings_manager</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="s2">&quot;thumb_size_scale&quot;</span><span class="p">,</span> <span class="mi">140</span><span class="p">)</span>

<span class="c1"># or store the same value</span>
<span class="bp">self</span><span class="o">.</span><span class="n">_settings_manager</span><span class="o">.</span><span class="n">store</span><span class="p">(</span><span class="s2">&quot;thumb_size_scale&quot;</span><span class="p">,</span> <span class="mi">140</span><span class="p">)</span>

<span class="c1"># by default, things are scoped with `SCOPE_GLOBAL`.</span>
<span class="c1"># If you want to specify another scope, add a scope parameter.</span>

<span class="c1"># Fetch a preference with a specific scope</span>
<span class="n">ui_launched</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_settings_manager</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="s2">&quot;ui_launched&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_settings_manager</span><span class="o">.</span><span class="n">SCOPE_ENGINE</span><span class="p">)</span>

<span class="c1"># And store a preference with a specific scope</span>
<span class="bp">self</span><span class="o">.</span><span class="n">_settings_manager</span><span class="o">.</span><span class="n">store</span><span class="p">(</span><span class="s2">&quot;ui_launched&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_settings_manager</span><span class="o">.</span><span class="n">SCOPE_ENGINE</span><span class="p">)</span>
</pre></div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="shotgun_globals.html" class="btn btn-neutral float-right" title="Shotgun Globals Access" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="task_manager.html" class="btn btn-neutral" title="Background Task Processing" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Autodesk.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'v5.2.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-2114792-1', 'auto');
  ga('send', 'pageview');
</script>



</body>
</html>